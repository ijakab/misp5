<html>
    <head>
<!--        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.js"></script>  -->
        <script src="p5.min.js"></script>
        <script src="build/build.js"></script>

        <link rel="shortcut icon" href="https://p5js.org/assets/img/favicon.ico">
            <link rel="icon" href="https://p5js.org/assets/img/favicon.ico">

        <style>
            * {
                padding: 0px;
                margin: 0px;
            }
            #container {
                margin: 20px;
            }
        </style>
        <script>
        </script>
    </head>
    <body>
        <div id="container">
            <div id="options">
                <p>Masa :<input id="massInput" type="range" min="5" max="100" /></p>
                <p>Koeficijent trenja :<input id="frictionInput" type="range" min="5" max="200" /></p>
                <p><button id="configSubmit" type="submit">Potvrdi</button></p>
            </div>
            <div id="levelControl">
                <button id="prevLvl"><<</button>
                <button id="nextLvl">>></button>
            </div>
        </div>


    <script>
        let mass = Number(localStorage.getItem('playerMass')) || 2
        let friction = Number(localStorage.getItem('frictionFactor')) || 10
        document.getElementById('massInput').value = mass
        document.getElementById('frictionInput').value = friction
        let currentLevel = Number(localStorage.getItem('currentLevel') || 0)

        document.getElementById('configSubmit').addEventListener('click', function (e) {
            e.preventDefault()
            var mass = document.getElementById('massInput').value
            var friction = document.getElementById('frictionInput').value
            localStorage.setItem('frictionFactor', friction)
            localStorage.setItem('playerMass', mass)
            window.location.reload()
        })

        document.getElementById('prevLvl').addEventListener('click', function () {
            let newLevel = currentLevel === 0 ? levelConfig.length-1 : currentLevel-1
            localStorage.setItem('currentLevel', newLevel)
            window.location.reload()
        })
        document.getElementById('nextLvl').addEventListener('click', function () {
            let newLevel = currentLevel === levelConfig.length-1 ? 0 : currentLevel+1
            localStorage.setItem('currentLevel', newLevel)
            window.location.reload()
        })
    </script>
    </body>
</html>